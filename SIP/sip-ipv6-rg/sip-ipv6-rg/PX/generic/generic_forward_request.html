<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>JUDGEMENT</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@jail-7.freebsd.org" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->
<!--

<ul>

	<li><a href="#judgement">JUDGEMENT</a></li>
</ul>
-->
<!-- INDEX END -->

<p>
</p>
<h1><a name="judgement">JUDGEMENT</a></h1>
SIP - Generic Judgment (forward request)<pre> [generic_forward_request.txt]
 
 Generic judgement items for SIP request that was forwarded
 
 - Headers:
 
    * Via
        Must exist.
        Must add a Via header field value. [RFC3261-16-81]
 
          For the 1st Via header, Must follow these rules.
            via-branch:
              token: Must be different from all values sent by NUT in this sequence. (Excepting ACK for non-2xx response and CANCEL.) [RFC3261-8-22]
            via-branch:
              token: Must begin with the characters &quot;z9hG4bK&quot;. [RFC3261-8-23]
            transport: Must be &quot;UDP&quot;. [Lmt-1]
            sent-by:
              host: Recommended to be specified hostname of NUT. [RFC3261-18-12]
 
          For the 2nd Via header, if the host portion of the &quot;sent-by&quot; parameter contains a domain name, 
             via-received: Must be added if the host portion of the &quot;sent-by&quot; parameter contains a domain name.
             via-received: Must contain the source address from which the packet was received.
 
          For the Via header that was in original message,
            via-branch: Must equal as that in the message.
            sent-by: Must equal as that in the message.
            transport: Must equal as that in the message.
 
   * Route
       Must remove the first value in the Route header field from the request,
       if the value indicates NUT. [RFC3261-16-26]
 
   * Record-Route
       Must insert a Record-Route header field value of NUT into the copy before
     any existing Record-Route header field values. [Lmt-10, RFC3261-16-52]
       Must contain the &quot;lr&quot; parameter. [RFC3261-16-55]
       Should not contain &quot;transport&quot; parameter. [RFC3261-16-56]
 
 
 </pre>
</body>

</html>
